import {select} from 'd3-selection'

function drawPoints(svg, points, i, l) {
  svg
    .append('circle')
    .datum(points[i])
    .attr('class', 'point')
    .attr('cx', function(d) {
      return d[0];
    })
    .attr('cy', function(d) {
      return d[1];
    })
    .attr('r', 5);

  if (i < l - 1) {
    requestAnimationFrame(() => {
      drawPoints(svg, points, ++i, l)
    })
  }
}

export function renderToOverview(parent, quadtree) {
  let svg = select(parent)
    .append('svg')
    .attr('width', quadtree._config.width)
    .attr('height', quadtree._config.height)
  let points = quadtree._candidates
  let l = points.length;
  drawPoints(svg, points, 0, l)
}